<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="مجموعة الكتب العلمية النادرة في علم الأحياء. مراجع عالمية وكتب قيمة للمتوفقين والباحثين في المجال الطبي.">
    <meta name="keywords" content="كتب علمية, مراجع أحياء, كتب نادرة, كتب طبية, بيولوجيا, مراجع عالمية, كتب للمتفوقين">
    <title>الكتب العلمية النادرة - الدكتور</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&family=Reem+Kufi:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "الكتب العلمية النادرة في علم الأحياء",
      "description": "مجموعة حصرية من أندر المراجع والكتب العالمية في علم الأحياء، متاحة الآن لطلاب الدكتور.",
      "url": "https://abqarieno.firebaseapp.com/scientific-books.html"
    }
    </script>
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1530026405186-ed1f139313f8?q=80&w=1920&auto=format&fit=crop">
    <style>
        @media (max-width: 768px) {
            .sci-books-hero .main-title {
                font-size: 2.5rem !important;
                line-height: 1.4;
            }
            .hero-desc {
                width: 90%;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <!-- Page Loader -->
    <div id="page-loader">
        <div class="loader-content">
            <i class="fa-solid fa-heart-pulse loader-icon"></i>
            <div class="loader-text">الدكتور <small>جاري التحميل...</small></div>
        </div>
    </div>

    <nav class="navbar">
        <div class="logo">
            <i class="fa-solid fa-heart-pulse"></i>
            <div class="logo-text"><span>الدكتور</span><small>BIOLOGY MASTER</small></div>
        </div>
        <ul class="nav-links">
            <li><a href="index.html"><i class="fa-solid fa-house"></i> الرئيسية</a></li>
            <li><a href="library.html">الكتب</a></li>
            <li><a href="videos.html">الفيديوهات</a></li>
            <li><a href="schedule.html">الجدول</a></li>
            <li><a href="reviews.html">ورق الشرح</a></li>
            <li><a href="scientific-books.html" class="active"><i class="fa-solid fa-flask"></i> الكتب العلمية</a></li>
            <li><a href="contact.html">تواصل معنا</a></li>
            <li style="margin-top: 20px; border-top: 1px solid #333; width: 100%; padding-top: 10px;"></li>
            <li><a href="profile.html"><i class="fa-solid fa-user"></i> الملف الشخصي</a></li>
            <li><a href="admin.html"><i class="fa-solid fa-user-shield"></i> لوحة المستر</a></li>
            <li><a href="#" onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i> تسجيل خروج</a></li>
        </ul>
        <div style="display:flex; align-items:center; gap:5px;">
            <button id="themeToggle" class="theme-toggle" title="تبديل الوضع"><i class="fa-solid fa-moon"></i></button>
            <button id="installAppBtn" class="btn-nav-install" style="display: none;" title="تثبيت التطبيق"><i class="fa-solid fa-download"></i></button>
            <div class="menu-btn"><i class="fa-solid fa-bars"></i></div>
        </div>
    </nav>

    <section class="sci-books-hero">
        <p class="subtitle">RARE SCIENTIFIC COLLECTION</p>
        <h1 class="main-title" style="font-size: 3.5rem;">الكتب العلمية النادرة<br>في <span class="neon-green-text">علم الأحياء</span></h1>
        <p class="hero-desc">مجموعة حصرية من أندر المراجع والكتب العالمية في علم الأحياء، متاحة الآن لطلاب الدكتور.</p>
    </section>

    <footer>
        <p style="text-align: center;">جميع الحقوق محفوظة © 2026 | تم التطوير بواسطة فريق عبقرينو & كيمو <i class="fa-solid fa-heart"></i></p>
    </footer>

    <script>
        const menuBtn = document.querySelector('.menu-btn');
        const navLinks = document.querySelector('.nav-links');
        menuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuBtn.innerHTML = navLinks.classList.contains('active') ? '<i class="fa-solid fa-xmark"></i>' : '<i class="fa-solid fa-bars"></i>';
        });

        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('page-loader').classList.add('loader-hidden');
            }, 1000);
        });

        // كود تثبيت التطبيق PWA
        let deferredPrompt;
        const installBtn = document.getElementById('installAppBtn');

        // إظهار الزر إذا لم يكن التطبيق مثبتاً
        if (!window.matchMedia('(display-mode: standalone)').matches) {
            installBtn.style.display = 'flex';
        }

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBtn.style.display = 'flex';
        });

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') installBtn.style.display = 'none';
                deferredPrompt = null;
            } else {
                alert('لتثبيت التطبيق، يرجى استخدام خيار "الإضافة إلى الشاشة الرئيسية" من إعدادات المتصفح.');
            }
        });

        // كود الوضع الليلي/النهاري
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const icon = themeToggle.querySelector('i');

        if (localStorage.getItem('theme') === 'light') {
            body.classList.add('light-mode');
            icon.classList.replace('fa-moon', 'fa-sun');
        }

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('light-mode');
            const isLight = body.classList.contains('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
            icon.className = isLight ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
        });
    </script>

    <!-- نظام الإشعارات الذكي -->
    <div id="fire-notification" class="fire-toast">
        <i class="fa-solid fa-fire-flame-curved"></i>
        <div>
            <h4>تنبيه عاجل من الدكتور</h4>
            <small>اضغط للذهاب لمركز الرسائل</small>
        </div>
    </div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getDatabase, ref, onChildAdded, query, limitToLast } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

        const firebaseConfig = { apiKey: "AIzaSyD092yeOowtCLW0fDcIzaEXrnxvrN4X5T8", authDomain: "abqarieno.firebaseapp.com", databaseURL: "https://abqarieno-default-rtdb.firebaseio.com", projectId: "abqarieno", storageBucket: "abqarieno.firebasestorage.app", messagingSenderId: "790682500839", appId: "1:790682500839:web:cd50b8e01729f821e06c42" };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        
        const notif = document.getElementById('fire-notification');
        const contactLink = document.querySelector('a[href="contact.html"]');
        const loadTime = Date.now();

        onChildAdded(query(ref(db, 'broadcasts'), limitToLast(1)), (snapshot) => {
            const msg = snapshot.val();
            if(msg.timestamp > loadTime) {
                notif.classList.add('show');
                setTimeout(() => notif.classList.remove('show'), 6000);
                if(contactLink) contactLink.classList.add('has-new');
            }
        });
        notif.onclick = () => window.location.href = 'contact.html';
    </script>
</body>
</html>